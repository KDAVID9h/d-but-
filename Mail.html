<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Formulaire de contact</title>
  </head>
  <body>
    <h1>Formulaire de contact</h1>
    <?php
    if (isset($_POST['submit'])) {
      $nom = $_POST['nom'];
      $email = $_POST['email'];
      $message = $_POST['message'];

      // Envoi d'un email à l'adresse de l'utilisateur
      $to = $email;
      $subject = "Merci de nous avoir contacté !";
      $txt = "Bonjour " . $nom . ",\n\nNous avons bien reçu votre message :\n\n" . $message . "\n\nNous vous répondrons dans les plus brefs délais.\n\nCordialement,\nL'équipe du site.";
      $headers = "From: webmaster@monsite.com" . "\r\n" .
      "Reply-To: webmaster@monsite.com" . "\r\n" .
      "X-Mailer: PHP/" . phpversion();

      mail($to,$subject,$txt,$headers);

      // Affichage d'un message de confirmation à l'utilisateur
      echo "<p>Merci " . $nom . " pour votre message ! Nous vous avons envoyé un email de confirmation à l'adresse " . $email . "</p>";
    } else {
      // Affichage du formulaire
      echo '
      <form method="post">
        <label for="nom">Nom :</label>
        <input type="text" id="nom" name="nom"><br>

        <label for="email">Email :</label>
        <input type="email" id="email" name="email"><br>

        <label for="message">Message :</label>
        <textarea id="message" name="message"></textarea><br>

        <input type="submit" name="submit" value="Envoyer">
      </form>
      ';
    }
    ?>
  </body>
</html>
